(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{103:function(e,t,n){},114:function(e,t,n){"use strict";n.r(t);var c=n(24),a=n.n(c),s=n(25),r=(n(103),n(89)),i=n(7),j=n(2),o=n(8),u=n(3);var l=function(e){var t=e.user,n=e.setUser;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h3",{children:["Welcome, ",t.username,"!"]}),Object(u.jsx)("h1",{className:"title",children:Object(u.jsx)(s.b,{to:"/",children:Object(u.jsx)("h2",{children:"Healthy Pets!"})})}),Object(u.jsx)("nav",{children:Object(u.jsx)("button",{id:"logout-button",onClick:function(){fetch("/api/logout",{method:"DELETE"}).then((function(e){e.ok&&n(null)}))},children:"Logout"})}),Object(u.jsx)("nav",{children:Object(u.jsx)("button",{id:"new-pet-button",children:Object(u.jsx)(s.b,{to:"/new",children:"NewPet"})})})]})},b=n(128),h=n(88),d=n(90),O=n(56),p=n(84),x=n(85);var f=function(e){e.petId;var t=Object(j.useState)(["event"]),n=Object(i.a)(t,2),c=(n[0],n[1],Object(j.useState)("hi")),a=Object(i.a)(c,2),s=a[0],r=a[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("form",{children:Object(u.jsx)("input",{type:"text",value:s,onChange:function(e){return r(e.target.value)},children:"Input Changes"})}),Object(u.jsx)("button",{type:"submit",children:"Submit"})]})};var g=function(e){var t=e.id;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{id:"calendar",children:Object(u.jsx)(d.a,{initialView:"timeGridWeek",headerToolbar:{left:"prev,next,today,addEventButton",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},plugins:[O.b,p.a,x.a],editable:!0,selectable:!0,selectMirror:!0,select:function(e){var n=prompt("Please enter a new title for your event"),c=e.view.calendar;c.unselect(),n&&(c.addEvent({title:n,start:e.startStr,end:e.endStr}),fetch("api/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:n,pet_id:t,start:e.startStr,end:e.endStr})}).then((function(e){return e.json()})).then((function(e){return console.log(e)})))},events:{url:"api/pets/".concat(t),color:"white",textColor:"black"},eventClick:function(e){window.confirm("Are you sure you want to delete the event '".concat(e.event.title,"'?"))&&(e.event.remove(),fetch("api/events/".concat(e.event.id),{method:"DELETE"}))}})})})};var m=function(e){var t=e.pet,n=e.selectPet,c=e.onDeletePet,a=(e.onUpdatePet,t.id),r=t.name,o=t.sex,l=t.age,d=t.weight,O=t.pet_image,p=t.health_issues,x=t.type_of_pet,f=Object(j.useState)(!0),m=Object(i.a)(f,2),v=m[0],y=m[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(b.a,{className:"pet-cards",children:Object(u.jsxs)(b.a.Content,{children:[Object(u.jsx)("h2",{children:r}),Object(u.jsx)(h.a,{className:"pet-image",src:O,alt:"my pet"}),Object(u.jsxs)(b.a.Description,{id:"pet-info",children:[Object(u.jsx)("span",{children:o}),Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:x}),Object(u.jsx)("br",{}),Object(u.jsxs)("span",{children:["Age: ",l]}),Object(u.jsx)("br",{}),Object(u.jsxs)("span",{children:["Weight: ",d," lbs"]}),Object(u.jsx)("br",{}),Object(u.jsxs)("span",{children:["Health issues: ",p]}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{className:"pet-button",children:Object(u.jsx)(s.b,{onClick:function(){return n(t)},to:"/edit/"+a,children:"Edit Info"})}),Object(u.jsx)("button",{className:"pet-button",onClick:function(){return c(a)},children:"Remove"}),Object(u.jsx)("button",{className:"pet-button",onClick:function(){return y(!v)},children:"show/hide log"}),v?Object(u.jsx)(g,{id:a}):null]})]})})})};var v=function(e){var t=e.pets,n=e.selectPet,c=e.setPets;function a(e){var n=t.filter((function(t){return t.id!==e}));fetch("/api/pets/".concat(e),{method:"DELETE"}),c(n)}return Object(u.jsx)(u.Fragment,{children:t.length>0?t.map((function(e){return Object(u.jsx)(m,{pet:e,selectPet:n,onDeletePet:a},e.id)})):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("p",{children:"We're here to help you track of any changes in your pet's behavior, to keep them happy and healthy. Just add a new pet to get started!"})})})},y=n(127);var S=function(e){var t=e.text;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("p",{children:t})})};var C=function(){var e=Object(j.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1];Object(j.useEffect)((function(){fetch("/api/health_tips").then((function(e){return e.json()})).then((function(e){return c(e)}))}),[]);var a=n.map((function(e){return Object(u.jsx)(S,{text:e.text},e.id)})),s=a[Math.floor(Math.random()*a.length)];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("h3",{children:Object(u.jsxs)(y.a,{className:"health-tips",children:[Object(u.jsx)("h2",{children:"Health Tips for Your Furry Friend"}),Object(u.jsx)("h4",{children:s})]})})})};var w=function(e){e.user;var t=e.selectedPet,n=e.onPetChange,c=(e.errors,e.handleImageChange,Object(j.useState)("")),a=Object(i.a)(c,2),s=a[0],r=a[1],o=Object(j.useState)(""),l=Object(i.a)(o,2),b=l[0],h=l[1],d=Object(j.useState)(""),O=Object(i.a)(d,2),p=O[0],x=O[1],f=Object(j.useState)(""),g=Object(i.a)(f,2),m=g[0],v=g[1],y=Object(j.useState)(""),S=Object(i.a)(y,2),C=S[0],w=S[1],P=Object(j.useState)(""),F=Object(i.a)(P,2),k=F[0],T=F[1],_=Object(j.useState)(0),E=Object(i.a)(_,2),N=E[0],L=E[1];return Object(j.useEffect)((function(){L(t.id),r(t.name),x(t.age),w(t.weight),h(t.type_of_pet),v(t.sex),T(t.health_issues)}),[t]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n({id:N,name:s,age:p,weight:C,health_issues:k,sex:m,type_of_pet:b})},children:[Object(u.jsx)("label",{children:"Name: "}),Object(u.jsx)("input",{type:"text",id:"pet-name",value:s,onChange:function(e){return r(e.target.value)}}),Object(u.jsx)("label",{children:"Type: "}),Object(u.jsx)("input",{type:"text",id:"pet-type",value:b,onChange:function(e){return h(e.target.value)}}),Object(u.jsx)("label",{children:"Sex: "}),Object(u.jsx)("input",{type:"text",id:"pet-sex",value:m,onChange:function(e){return v(e.target.value)}}),Object(u.jsx)("label",{children:"Age: "}),Object(u.jsx)("input",{type:"text",id:"pet-age",value:p,onChange:function(e){return x(e.target.value)}}),Object(u.jsx)("label",{children:"Weight: "}),Object(u.jsx)("input",{type:"text",id:"pet-weight",value:C,onChange:function(e){return w(e.target.value)}}),Object(u.jsx)("label",{children:"Health Issues: "}),Object(u.jsx)("input",{type:"text",id:"pet-health-issue",value:k,onChange:function(e){return T(e.target.value)}}),Object(u.jsx)("button",{type:"submit",children:"Submit"})]})})};var P=function(e){var t=e.selectPet,n=(e.selectedPet,e.setSelectedPet,e.pets),c=e.setPets;return e.user,Object(j.useEffect)((function(){fetch("/api/pets").then((function(e){return e.json()})).then(c)}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(v,{pets:n,setPets:c,selectPet:t}),Object(u.jsxs)("div",{id:"gif-container",children:[Object(u.jsx)("iframe",{src:"https://giphy.com/embed/1AhgJ8czcvMreU0haV",width:"480",height:"270",frameBorder:"0",class:"giphy-embed",allowFullScreen:!0}),Object(u.jsx)("a",{href:"https://giphy.com/gifs/roverdotcom-rover-peanut-butter-gifmedogs-1AhgJ8czcvMreU0haV"}),Object(u.jsx)("iframe",{src:"https://giphy.com/embed/ZQqiFdS5CMcLK",width:"480",height:"269",frameBorder:"0",className:"giphy-embed",allowFullScreen:!0}),Object(u.jsx)("a",{href:"https://giphy.com/gifs/exercising-cat-funny-ZQqiFdS5CMcLK"}),Object(u.jsx)("iframe",{src:"https://giphy.com/embed/jjvIuYHejqi9G",width:"480",height:"271",frameBorder:"0",class:"giphy-embed",allowFullScreen:!0}),Object(u.jsx)("a",{href:"https://giphy.com/gifs/cat-kitten-and-dog-jjvIuYHejqi9G"})]}),Object(u.jsx)(C,{})]})};var F=function(e){var t=e.onLogin,n=Object(j.useState)(""),c=Object(i.a)(n,2),a=c[0],s=c[1],r=Object(j.useState)(""),o=Object(i.a)(r,2),l=o[0],b=o[1],h=Object(j.useState)([]),d=Object(i.a)(h,2),O=d[0],p=d[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:l})}).then((function(e){e.ok?e.json().then((function(e){return t(e)})):e.json().then((function(e){return p(e.errors)}))}))},children:[Object(u.jsx)("label",{children:"Username"}),Object(u.jsx)("input",{type:"text",id:"username",value:a,onChange:function(e){return s(e.target.value)}}),Object(u.jsx)("label",{children:"Password"}),Object(u.jsx)("input",{type:"password",id:"password",value:l,onChange:function(e){return b(e.target.value)}}),Object(u.jsx)("button",{type:"submit",children:"Login"}),Object(u.jsx)("p",{children:O.map((function(e){return Object(u.jsx)("li",{children:e})}))})]})})};var k=function(e){var t=e.onLogin,n=Object(j.useState)(""),c=Object(i.a)(n,2),a=c[0],s=c[1],r=Object(j.useState)(""),o=Object(i.a)(r,2),l=o[0],b=o[1],h=Object(j.useState)(""),d=Object(i.a)(h,2),O=d[0],p=d[1],x=Object(j.useState)([]),f=Object(i.a)(x,2),g=f[0];return f[1],Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:l,password_confirmation:O})}).then((function(e){e.ok?e.json().then((function(e){return t(e)})):e.json().then((function(e){return console.log(e)}))}))},children:[Object(u.jsx)("label",{children:"Username: "}),Object(u.jsx)("input",{type:"text",id:"username",value:a,onChange:function(e){return s(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{children:"Password: "}),Object(u.jsx)("input",{type:"password",id:"password",value:l,onChange:function(e){return b(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{children:"Password Confirmation: "}),Object(u.jsx)("input",{type:"password",id:"password_confirmation",value:O,onChange:function(e){return p(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{type:"submit",children:"Sign Up"}),Object(u.jsx)("p",{children:g.map((function(e){return Object(u.jsx)("li",{children:e})}))})]})},T=n(129);var _=function(e){var t=e.onLogin,n=Object(j.useState)(!0),c=Object(i.a)(n,2),a=c[0],s=c[1];return Object(u.jsxs)("div",{className:"login-page",children:[Object(u.jsx)("h1",{className:"title",children:Object(u.jsx)("h2",{children:"Healthy Pets"})}),a?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(F,{onLogin:t}),Object(u.jsxs)("p",{children:["Don't have an account?",Object(u.jsx)(T.a,{onClick:function(){return s(!1)},children:" Sign Up"})]})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(k,{onLogin:t}),Object(u.jsxs)("p",{children:["Already have an account?",Object(u.jsx)(T.a,{onClick:function(){return s(!0)},children:"Log In"})]})]})]})};var E=function(e){e.user;var t=Object(j.useState)(""),n=Object(i.a)(t,2),c=n[0],a=n[1],s=Object(j.useState)(""),r=Object(i.a)(s,2),l=r[0],b=r[1],h=Object(j.useState)(""),d=Object(i.a)(h,2),O=d[0],p=d[1],x=Object(j.useState)(""),f=Object(i.a)(x,2),g=f[0],m=f[1],v=Object(j.useState)(""),y=Object(i.a)(v,2),S=y[0],C=y[1],w=Object(j.useState)(""),P=Object(i.a)(w,2),F=P[0],k=P[1],T=Object(j.useState)(null),_=Object(i.a)(T,2),E=_[0],N=_[1],L=Object(j.useState)([]),D=Object(i.a)(L,2),I=D[0],A=D[1],H=Object(o.f)();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"Add a Pet"}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("name",c),t.append("age",O),t.append("weight",S),t.append("sex",g),t.append("type_of_pet",l),t.append("health_issues",F),t.append("pet_image",E),fetch("/api/pets",{method:"POST",body:t}).then((function(e){e.ok?H("/"):e.json().then((function(e){A(e.errors)}))}))},children:[Object(u.jsx)("label",{children:"Name: "}),Object(u.jsx)("input",{type:"text",id:"pet-name",value:c,onChange:function(e){return a(e.target.value)}}),Object(u.jsx)("label",{children:"Type: "}),Object(u.jsx)("input",{type:"text",id:"pet-type",value:l,onChange:function(e){return b(e.target.value)}}),Object(u.jsx)("label",{children:"Sex: "}),Object(u.jsx)("input",{type:"text",id:"pet-sex",value:g,onChange:function(e){return m(e.target.value)}}),Object(u.jsx)("label",{children:"Age: "}),Object(u.jsx)("input",{type:"text",id:"pet-age",value:O,onChange:function(e){return p(e.target.value)}}),Object(u.jsx)("label",{children:"Weight: "}),Object(u.jsx)("input",{type:"text",id:"pet-weight",value:S,onChange:function(e){return C(e.target.value)}}),Object(u.jsx)("label",{children:"Health Issues: "}),Object(u.jsx)("input",{type:"text",id:"pet-health-issue",value:F,onChange:function(e){return k(e.target.value)}}),Object(u.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){return N(e.target.files[0])}}),Object(u.jsx)("button",{type:"submit",children:"Submit"}),Object(u.jsx)("p",{children:I.map((function(e){return Object(u.jsx)("li",{children:e})}))})]})]})};var N=function(){var e=Object(j.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(j.useState)([]),s=Object(i.a)(a,2),b=s[0],h=s[1],d=Object(j.useState)({}),O=Object(i.a)(d,2),p=O[0],x=O[1],v=Object(j.useState)([]),y=Object(i.a)(v,2),S=(y[0],y[1],Object(o.f)());function C(e){x(e),console.log(e)}return Object(j.useEffect)((function(){fetch("/api/me").then((function(e){e.ok&&e.json().then((function(e){return c(e)}))}))}),[]),n?Object(u.jsxs)("div",{children:[Object(u.jsx)(l,{user:n,setUser:c}),Object(u.jsx)("main",{children:Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{exact:!0,path:"/new",element:Object(u.jsx)(E,{user:n})}),Object(u.jsx)(o.a,{exact:!0,path:"/:id",element:Object(u.jsx)(m,{})}),Object(u.jsx)(o.a,{exact:!0,path:"/edit/:id",element:Object(u.jsx)(w,{selectPet:C,selectedPet:p,setSelectedPet:x,onPetChange:function(e){fetch("/api/pets/".concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){t.ok?t.json().then((function(t){var n=Object(r.a)(b).map((function(t){return t.id===e.id?e:t}));h(n),S("/"),console.log(n)})):t.json().then((function(e){return console.log(e)}))}))}})}),Object(u.jsx)(o.a,{exact:!0,path:"health-log/:id",element:Object(u.jsx)(g,{pets:b,selectedPet:p,setSelectedPet:x})}),Object(u.jsx)(o.a,{exact:!0,path:"event/:id",element:Object(u.jsx)(f,{})}),Object(u.jsx)(o.a,{exact:!0,path:"/",element:Object(u.jsx)(P,{selectPet:C,pets:b,setPets:h,user:n})})]})})]}):Object(u.jsx)(_,{onLogin:c})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,131)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};a.a.render(Object(u.jsx)(s.a,{children:Object(u.jsx)(N,{})}),document.getElementById("root")),L()}},[[114,1,2]]]);
//# sourceMappingURL=main.4c706801.chunk.js.map