(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{103:function(e,t,n){},114:function(e,t,n){"use strict";n.r(t);var c=n(24),a=n.n(c),r=n(26),s=(n(103),n(89)),i=n(7),j=n(2),u=n(8),o=n(3);var l=function(e){var t=e.user,n=e.setUser;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("h3",{children:["Welcome, ",t.username,"!"]}),Object(o.jsx)("h1",{className:"title",children:Object(o.jsx)(r.b,{to:"/",children:"Healthy Pets!"})}),Object(o.jsx)("nav",{children:Object(o.jsx)("button",{id:"logout-button",onClick:function(){fetch("/api/logout",{method:"DELETE"}).then((function(e){e.ok&&n(null)}))},children:"Logout"})}),Object(o.jsx)("nav",{children:Object(o.jsx)("button",{id:"new-pet-button",children:Object(o.jsx)(r.b,{to:"/new",children:"NewPet"})})})]})},b=n(128),h=n(88),d=n(90),O=n(56),p=n(84),x=n(85);var f=function(e){var t=e.id;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{id:"calendar",children:Object(o.jsx)(d.a,{initialView:"timeGridWeek",headerToolbar:{left:"prev,next,today,addEventButton",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},plugins:[O.b,p.a,x.a],editable:!0,selectable:!0,selectMirror:!0,select:function(e){var n=prompt("Please enter a new title for your event"),c=e.view.calendar;c.unselect(),n&&(c.addEvent({title:n,start:e.startStr,end:e.endStr}),fetch("api/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:n,pet_id:t,start:e.startStr,end:e.endStr})}).then((function(e){return e.json()})).then((function(e){return console.log(e)})))},events:{url:"api/pets/".concat(t),color:"white",textColor:"black"},eventClick:function(e){window.confirm("Are you sure you want to delete the event '".concat(e.event.title,"'?"))&&(e.event.remove(),fetch("api/events/".concat(e.event.id),{method:"DELETE"}))}})})})};var g=function(e){var t=e.pet,n=e.selectPet,c=e.onDeletePet,a=(e.onUpdatePet,t.id),s=t.name,u=t.sex,l=t.age,d=t.weight,O=t.pet_image,p=t.health_issues,x=t.type_of_pet,g=Object(j.useState)(!0),m=Object(i.a)(g,2),v=m[0],y=m[1];return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(b.a,{className:"pet-cards",children:Object(o.jsxs)(b.a.Content,{children:[Object(o.jsx)("h2",{children:s}),Object(o.jsx)(h.a,{className:"pet-image",src:O,alt:"my pet"}),Object(o.jsxs)(b.a.Description,{id:"pet-info",children:[Object(o.jsx)("span",{children:u}),Object(o.jsx)("br",{}),Object(o.jsx)("span",{children:x}),Object(o.jsx)("br",{}),Object(o.jsxs)("span",{children:["Age: ",l]}),Object(o.jsx)("br",{}),Object(o.jsxs)("span",{children:["Weight: ",d," lbs"]}),Object(o.jsx)("br",{}),Object(o.jsxs)("span",{children:["Health issues: ",p]}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{className:"pet-button",children:Object(o.jsx)(r.b,{onClick:function(){return n(t)},to:"/edit/"+a,children:"Edit Info"})}),Object(o.jsx)("button",{className:"pet-button",onClick:function(){return c(a)},children:"Remove"}),Object(o.jsx)("button",{className:"pet-button",onClick:function(){return y(!v)},children:"show/hide log"}),v?Object(o.jsx)(f,{id:a}):null]})]})})})};var m=function(e){var t=e.pets,n=e.selectPet,c=e.setPets;function a(e){var n=t.filter((function(t){return t.id!==e}));fetch("/api/pets/".concat(e),{method:"DELETE"}),c(n)}return Object(o.jsx)(o.Fragment,{children:t.length>0?t.map((function(e){return Object(o.jsx)(g,{pet:e,selectPet:n,onDeletePet:a},e.id)})):Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("p",{children:"We're here to help you track of any changes in your pet's behavior, to keep them happy and healthy. Just add a new pet to get started!"})})})},v=n(127);var y=function(e){var t=e.text;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("p",{children:t})})};var S=function(){var e=Object(j.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1];Object(j.useEffect)((function(){fetch("/api/health_tips").then((function(e){return e.json()})).then((function(e){return c(e)}))}),[]);var a=n.map((function(e){return Object(o.jsx)(y,{text:e.text},e.id)})),r=a[Math.floor(Math.random()*a.length)];return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("h3",{children:Object(o.jsxs)(v.a,{className:"health-tips",children:[Object(o.jsx)("h2",{children:"Health Tips for Your Furry Friend"}),Object(o.jsx)("h4",{children:r})]})})})};var C=function(e){var t=e.selectPet,n=(e.selectedPet,e.setSelectedPet,e.pets),c=e.setPets;return e.user,Object(j.useEffect)((function(){fetch("/api/pets").then((function(e){return e.json()})).then((function(e){return c(e)}))}),[]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(m,{pets:n,setPets:c,selectPet:t}),Object(o.jsx)(S,{})]})};var P=function(e){var t=e.onLogin,n=Object(j.useState)(""),c=Object(i.a)(n,2),a=c[0],r=c[1],s=Object(j.useState)(""),u=Object(i.a)(s,2),l=u[0],b=u[1],h=Object(j.useState)([]),d=Object(i.a)(h,2),O=d[0],p=d[1];return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:l})}).then((function(e){e.ok?e.json().then((function(e){return t(e)})):e.json().then((function(e){return p(e.errors)}))}))},children:[Object(o.jsx)("label",{children:"Username"}),Object(o.jsx)("input",{type:"text",id:"username",value:a,onChange:function(e){return r(e.target.value)}}),Object(o.jsx)("label",{children:"Password"}),Object(o.jsx)("input",{type:"password",id:"password",value:l,onChange:function(e){return b(e.target.value)}}),Object(o.jsx)("button",{type:"submit",children:"Login"}),Object(o.jsx)("p",{children:O.map((function(e){return Object(o.jsx)("li",{children:e})}))})]})})};var w=function(e){var t=e.onLogin,n=Object(j.useState)(""),c=Object(i.a)(n,2),a=c[0],r=c[1],s=Object(j.useState)(""),u=Object(i.a)(s,2),l=u[0],b=u[1],h=Object(j.useState)(""),d=Object(i.a)(h,2),O=d[0],p=d[1],x=Object(j.useState)([]),f=Object(i.a)(x,2),g=f[0],m=f[1];return Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:l,password_confirmation:O})}).then((function(e){e.ok?e.json().then((function(e){return t(e)})):e.json().then((function(e){return m(e.errors)}))}))},children:[Object(o.jsx)("label",{children:"Username: "}),Object(o.jsx)("input",{type:"text",id:"username",value:a,onChange:function(e){return r(e.target.value)}}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:"Password: "}),Object(o.jsx)("input",{type:"password",id:"password",value:l,onChange:function(e){return b(e.target.value)}}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:"Password Confirmation: "}),Object(o.jsx)("input",{type:"password",id:"password_confirmation",value:O,onChange:function(e){return p(e.target.value)}}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{type:"submit",children:"Sign Up"}),g?g.map((function(e){return Object(o.jsx)("p",{children:e})})):null]})},k=n(129);var F=function(e){var t=e.onLogin,n=Object(j.useState)(!0),c=Object(i.a)(n,2),a=c[0],r=c[1];return Object(o.jsxs)("div",{className:"login-page",children:[Object(o.jsx)("h1",{className:"title",children:"Healthy Pets"}),a?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(P,{onLogin:t}),Object(o.jsxs)("p",{children:["Don't have an account?",Object(o.jsx)(k.a,{onClick:function(){return r(!1)},children:" Sign Up"})]})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(w,{onLogin:t}),Object(o.jsxs)("p",{children:["Already have an account?",Object(o.jsx)(k.a,{onClick:function(){return r(!0)},children:"Log In"})]})]})]})};var T=function(e){e.user;var t=Object(j.useState)(""),n=Object(i.a)(t,2),c=n[0],a=n[1],r=Object(j.useState)(""),s=Object(i.a)(r,2),l=s[0],b=s[1],h=Object(j.useState)(""),d=Object(i.a)(h,2),O=d[0],p=d[1],x=Object(j.useState)(""),f=Object(i.a)(x,2),g=f[0],m=f[1],v=Object(j.useState)(""),y=Object(i.a)(v,2),S=y[0],C=y[1],P=Object(j.useState)(""),w=Object(i.a)(P,2),k=w[0],F=w[1],T=Object(j.useState)(null),_=Object(i.a)(T,2),E=_[0],N=_[1],D=Object(u.f)();return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h2",{children:"Add a Pet"}),Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("name",c),t.append("age",O),t.append("weight",S),t.append("sex",g),t.append("type_of_pet",l),t.append("health_issues",k),t.append("pet_image",E),fetch("/api/pets",{method:"POST",body:t}).then((function(e){e.ok?D("/"):e.json().then((function(e){console.log(e)}))}))},children:[Object(o.jsx)("label",{children:"Name: "}),Object(o.jsx)("input",{type:"text",id:"pet-name",value:c,onChange:function(e){return a(e.target.value)}}),Object(o.jsx)("label",{children:"Type: "}),Object(o.jsx)("input",{type:"text",id:"pet-type",value:l,onChange:function(e){return b(e.target.value)}}),Object(o.jsx)("label",{children:"Sex: "}),Object(o.jsx)("input",{type:"text",id:"pet-sex",value:g,onChange:function(e){return m(e.target.value)}}),Object(o.jsx)("label",{children:"Age: "}),Object(o.jsx)("input",{type:"text",id:"pet-age",value:O,onChange:function(e){return p(e.target.value)}}),Object(o.jsx)("label",{children:"Weight: "}),Object(o.jsx)("input",{type:"text",id:"pet-weight",value:S,onChange:function(e){return C(e.target.value)}}),Object(o.jsx)("label",{children:"Health Issues: "}),Object(o.jsx)("input",{type:"text",id:"pet-health-issue",value:k,onChange:function(e){return F(e.target.value)}}),Object(o.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){return N(e.target.files[0])}}),Object(o.jsx)("button",{type:"submit",children:"Submit"})]})]})};var _=function(e){var t=e.selectedPet,n=e.onPetChange,c=e.errors,a=Object(j.useState)(""),r=Object(i.a)(a,2),s=r[0],u=r[1],l=Object(j.useState)(""),b=Object(i.a)(l,2),h=b[0],d=b[1],O=Object(j.useState)(""),p=Object(i.a)(O,2),x=p[0],f=p[1],g=Object(j.useState)(""),m=Object(i.a)(g,2),v=m[0],y=m[1],S=Object(j.useState)(""),C=Object(i.a)(S,2),P=C[0],w=C[1],k=Object(j.useState)(""),F=Object(i.a)(k,2),T=F[0],_=F[1],E=Object(j.useState)(0),N=Object(i.a)(E,2),D=N[0],L=N[1];return Object(j.useEffect)((function(){L(t.id),u(t.name),f(t.age),w(t.weight),d(t.type_of_pet),y(t.sex),_(t.health_issues)}),[t]),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n({id:D,name:s,age:x,weight:P,health_issues:T,sex:v,type_of_pet:h})},children:[Object(o.jsx)("label",{children:"Name: "}),Object(o.jsx)("input",{type:"text",id:"pet-name",value:s,onChange:function(e){return u(e.target.value)}}),Object(o.jsx)("label",{children:"Type: "}),Object(o.jsx)("input",{type:"text",id:"pet-type",value:h,onChange:function(e){return d(e.target.value)}}),Object(o.jsx)("label",{children:"Sex: "}),Object(o.jsx)("input",{type:"text",id:"pet-sex",value:v,onChange:function(e){return y(e.target.value)}}),Object(o.jsx)("label",{children:"Age: "}),Object(o.jsx)("input",{type:"text",id:"pet-age",value:x,onChange:function(e){return f(e.target.value)}}),Object(o.jsx)("label",{children:"Weight: "}),Object(o.jsx)("input",{type:"text",id:"pet-weight",value:P,onChange:function(e){return w(e.target.value)}}),Object(o.jsx)("label",{children:"Health Issues: "}),Object(o.jsx)("input",{type:"text",id:"pet-health-issue",value:T,onChange:function(e){return _(e.target.value)}}),Object(o.jsx)("button",{type:"submit",children:"Submit"}),c?c.map((function(e){return Object(o.jsx)("p",{children:e})})):null]})})};var E=function(){var e=Object(j.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(j.useState)([]),r=Object(i.a)(a,2),b=r[0],h=r[1],d=Object(j.useState)({}),O=Object(i.a)(d,2),p=O[0],x=O[1],m=Object(j.useState)([]),v=Object(i.a)(m,2),y=v[0],S=v[1],P=Object(u.f)();function w(e){x(e),console.log(e)}return Object(j.useEffect)((function(){fetch("/api/me").then((function(e){e.ok&&e.json().then((function(e){return c(e)}))}))}),[]),n?Object(o.jsxs)("div",{children:[Object(o.jsx)(l,{user:n,setUser:c}),Object(o.jsxs)("main",{children:[Object(o.jsxs)(u.c,{children:[Object(o.jsx)(u.a,{exact:!0,path:"/new",element:Object(o.jsx)(T,{user:n})}),Object(o.jsx)(u.a,{exact:!0,path:"/:id",element:Object(o.jsx)(g,{})}),Object(o.jsx)(u.a,{exact:!0,path:"/edit/:id",element:Object(o.jsx)(_,{selectPet:w,selectedPet:p,setSelectedPet:x,onPetChange:function(e){fetch("/api/pets/".concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){t.ok?t.json().then((function(t){var n=Object(s.a)(b).map((function(t){return t.id===e.id?e:t}));h(n),P("/"),console.log(n)})):t.json().then((function(e){return S(e.errors)}))}))}})}),Object(o.jsx)(u.a,{exact:!0,path:"health-log/:id",element:Object(o.jsx)(f,{pets:b,selectedPet:p,setSelectedPet:x})}),Object(o.jsx)(u.a,{exact:!0,path:"/",element:Object(o.jsx)(C,{selectPet:w,pets:b,setPets:h,user:n,setUser:c})})]}),y?y.map((function(e){return Object(o.jsx)("p",{children:e})})):null]})]}):Object(o.jsx)(F,{onLogin:c})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,131)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};a.a.render(Object(o.jsx)(r.a,{children:Object(o.jsx)(E,{})}),document.getElementById("root")),N()}},[[114,1,2]]]);
//# sourceMappingURL=main.39e652c8.chunk.js.map